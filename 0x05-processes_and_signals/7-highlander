#!/usr/bin/env bash
# This script displays "To infinity and beyond" indefinitely and handles SIGTERM without terminating.

# Function to handle SIGTERM
handle_sigterm() {
    # Using printf for explicit newline and to ensure output is flushed
    printf "I am invincible!!!\n"
    # After printing the message, explicitly set SIGTERM to be ignored.
    # This overrides the default termination behavior and allows the loop to continue.
    trap '' SIGTERM
}

# Set the trap for SIGTERM (signal 15) to call the handle_sigterm function
trap handle_sigterm SIGTERM

# Infinite loop to continuously display the phrase
while true; do
    echo "To infinity and beyond"
    sleep 2
done
